"use strict";(self.webpackChunkreact_blog_view=self.webpackChunkreact_blog_view||[]).push([[178],{33288:function(e,t,n){n.d(t,{Z:function(){return y}});var r,i=n(72791),c=n(78082),a=n(71502),s=n(15656),o=n(74165),l=n(15861),d=n(29439),u=n(67838),h=n(23414),p=n(76998),f=n.n(p),v=n(87309),x=n(80184);function m(e){var t=e.children,n=(0,i.useState)(!1),r=(0,d.Z)(n,2),c=r[0],a=r[1],s=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[0].props.children[0],!window.isSecureContext){e.next=6;break}return e.next=4,navigator.clipboard.writeText(n);case 4:e.next=7;break;case 6:f()(n);case 7:a(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){c&&setTimeout((function(){a(!1)}),1e3)}),[c]),(0,x.jsx)("div",{className:"code-copy-btn",children:c?(0,x.jsx)(v.ZP,{className:"copy-btn",children:(0,x.jsx)(u.Z,{})}):(0,x.jsx)(v.ZP,{className:"copy-btn",onClick:s,children:(0,x.jsx)(h.Z,{})})})}var g=function(e){var t=e.children;return(0,x.jsxs)("pre",{className:"blog-pre",onTouchStart:function(e){var t=e.currentTarget;r&&(r.className="blog-pre"),t.className="blog-pre active",r=t},children:[(0,x.jsx)(m,{children:t}),t]})},j=n(64209),Z=n(20859),k=i.memo(j.Z),w=function(e){e.node;var t=e.inline,n=e.className,r=e.children,i=(e.style,/language-(\w+)/.exec(n||""));return!t&&i?(0,x.jsx)(k,{children:String(r).replace(/\n$/,""),language:i[1],PreTag:"div",style:Z.RY}):(0,x.jsx)("code",{children:r})};var b=function(e){e.node,e.className;var t=e.children;if(e.style,e.ordered,!t||0===t.length)return(0,x.jsx)("li",{children:t});for(var n=0;n<t.length;n++){var r=t[n];if(r&&"string"===typeof r&&"\n"!==r){for(var i=r.split("\n"),c=i.length,a=[],s=0;s<c;s++)a.push(i[s]),s<c-1&&a.push((0,x.jsx)("br",{}));t[n]=a}}return(0,x.jsx)("li",{children:t})};var y=function(e){return(0,x.jsx)("div",{className:"my-react-markdown ".concat(e.className||""),children:(0,x.jsx)(c.D,{linkTarget:"_blank",skipHtml:!0,remarkPlugins:[a.Z],rehypePlugins:[s.Z],components:{pre:g,code:w,li:b},children:e.markdown})})}},58178:function(e,t,n){n.r(t),n.d(t,{default:function(){return Y}});var r=n(93433),i=n(74165),c=n(15861),a=n(29439),s=n(42942),o=n(57689),l=n(11087),d=n(72791),u=n(98244),h=n(9357),p=n(31925),f=n(31752),v=n(57768),x=n(82622),m=n(80740),g=n(96324),j=n(15865),Z=n(95622),k=n(86443),w=n(17828),b=n(4859),y=n(36575),N=n(18056),C=n(33288),T=n(80184);var Y=function(){var e=(0,o.UO)(),t=(0,s.eq)(1e3),n=(0,o.s0)(),Y=(0,s.zu)(),D=Y.articleDetail,P=Y.updateArticleDetail,S=Y.error,E=Y.imageSrc;(0,d.useEffect)((function(){P((null===e||void 0===e?void 0:e.id)||""),window.location.hash.slice(1)?M():document.documentElement.scrollTop=0}),[null===e||void 0===e?void 0:e.id,P]),(0,s.B1)(null!==D&&void 0!==D&&D.title?"\u5f1f\u7687\u4fa0\u306eblog-\u6587\u7ae0\u8be6\u60c5-"+D.title:"\u5f1f\u7687\u4fa0\u306eblog-\u6587\u7ae0\u8be6\u60c5-\u52a0\u8f7d\u4e2d",[null===D||void 0===D?void 0:D.title]),(0,d.useEffect)((function(){S&&(t({content:S,type:"error"}),n("/article"))}),[S,t,n]);var O=(0,d.useState)(!1),_=(0,a.Z)(O,2),A=_[0],F=_[1],M=function(){F(!0)},B=(0,s.K4)("confirm");return(0,T.jsxs)("div",{className:"article-detail",id:"article-detail",children:[D?(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("h1",{children:D.title}),(0,T.jsxs)("div",{className:"info",children:[(0,T.jsxs)("span",{children:[(0,T.jsx)(p.Z,{}),D.createTime.format("YYYY\u5e74MM\u6708DD\u65e5")]}),(0,T.jsxs)("span",{children:[(0,T.jsx)(f.Z,{}),D.modiTime.format("YYYY\u5e74MM\u6708DD\u65e5")]}),(0,T.jsxs)(l.rU,{to:{pathname:"/article",search:"kw=".concat(D.tag.name)},children:[(0,T.jsx)(v.Z,{}),D.tag.name]})]}),(0,T.jsx)(Z.Z,{src:E,alt:D.title,title:D.title,fallback:j,loading:"lazy"}),(0,T.jsx)("div",{className:"introduction",children:(0,T.jsx)("span",{children:D.introduction})}),(0,T.jsx)(C.Z,{markdown:D.content})]}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.Z,{children:"\u8bf7\u6c42\u6570\u636e\u4e2d..."}),(0,T.jsx)(k.Z,{active:!0,title:!1,paragraph:{rows:1}}),(0,T.jsx)(k.Z.Avatar,{shape:"square",style:{width:"100%",height:"0",paddingBottom:"".concat(56.25)},active:!0}),(0,T.jsx)(k.Z,{active:!0,title:!1,paragraph:{rows:1}}),(0,T.jsx)(k.Z,{active:!0,title:!1,paragraph:{rows:8}})]}),(0,T.jsx)(w.Z,{width:"min(378px,70%)",title:"\u76ee\u5f55",placement:"right",onClose:function(){F(!1)},open:A,closable:!1,getContainer:function(){return document.getElementById("article-detail")},children:(0,T.jsx)(N.ZP,{className:"article-menu",source:"\n"+(null===D||void 0===D?void 0:D.content),ordered:!0,updateHashAuto:!0,declarative:!0,headingTopOffset:60})}),D&&(0,T.jsxs)(T.Fragment,{children:[h.Z.isLogin&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(b.Z,{onClick:function(){B({title:"\u7f16\u8f91\u6587\u7ae0",content:"\u662f\u5426\u7f16\u8f91",onOk:function(){n("/article/addArticle?id=".concat((null===e||void 0===e?void 0:e.id)||""))}})},style:{right:20,bottom:170},icon:(0,T.jsx)(f.Z,{})}),(0,T.jsx)(b.Z,{onClick:function(){B({title:"\u5220\u9664\u6587\u7ae0",content:"\u786e\u8ba4\u5220\u9664\u6587\u7ae0",onOk:function(){return(0,c.Z)((0,i.Z)().mark((function r(){var c,a;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,u.jX)((null===e||void 0===e?void 0:e.id)||"");case 3:c=r.sent,a=c.affected,t(a?{content:"\u5220\u9664\u6210\u529f",type:"success"}:{content:"\u5220\u9664\u5931\u8d25",type:"error"}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),t({content:r.t0.message,type:"warning"});case 11:return r.prev=11,n("/article"),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[0,8,11,14]])})))()}})},style:{right:20,bottom:120},icon:(0,T.jsx)(x.Z,{})}),(0,T.jsx)(b.Z,{onClick:function(){var n=h.Z.user.recommendIdList||[];n.includes((null===e||void 0===e?void 0:e.id)||"")?t({content:"\u5df2\u7ecf\u662f\u7cbe\u9009\u63a8\u8350\u4e86",type:"warning"}):B({title:"\u6dfb\u52a0\u7cbe\u9009\u63a8\u8350",content:"\u7cbe\u9009\u63a8\u8350\u5c06\u4f1a\u5728\u9996\u9875\u5c55\u793a\uff0c\u662f\u5426\u6dfb\u52a0",onOk:function(){return(0,c.Z)((0,i.Z)().mark((function c(){var a;return(0,i.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,u.vZ)([].concat((0,r.Z)(n),[(null===e||void 0===e?void 0:e.id)||""]),h.Z.user.id);case 3:a=i.sent,h.Z.login(a),t({content:"\u7cbe\u9009\u63a8\u8350\u6dfb\u52a0\u6210\u529f",type:"success"}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),t({content:i.t0.message,type:"warning"});case 11:case"end":return i.stop()}}),c,null,[[0,8]])})))()}})},style:{right:20,bottom:70},icon:(0,T.jsx)(m.Z,{})})]}),(0,T.jsx)(b.Z,{onClick:M,style:{right:20,bottom:20},icon:(0,T.jsx)(g.Z,{})})]})]})}},15865:function(e,t,n){e.exports=n.p+"static/media/default.6fd831794cea659d480f.png"}}]);